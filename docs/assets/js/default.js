// Generated by Haxe 4.0.5
(function ($global) { "use strict";
var App = function() { };
var Main = function() {
	this.req = new XMLHttpRequest();
	this.url = "_post.html";
	window.console.log("" + App.NAME + " Dom ready :: build: " + "2020-05-06 16:37:05");
	var span = window.document.createElement("span");
	span.className = "openbtn";
	span.innerText = "☰";
	span.onclick = $bind(this,this.openNav);
	window.document.body.prepend(span);
	var nav = window.document.createElement("div");
	nav.id = "mySidenav";
	nav.className = "sidenav";
	window.document.body.append(nav);
	var link = window.document.createElement("a");
	link.className = "closebtn";
	link.innerText = "×";
	link.onclick = $bind(this,this.closeNav);
	nav.prepend(link);
	var container = window.document.createElement("div");
	container.className = "wrapper";
	nav.append(container);
	this.loadHTML(this.url,container);
};
Main.main = function() {
	var app = new Main();
};
Main.prototype = {
	loadHTML: function(url,el) {
		var _gthis = this;
		this.req.open("GET",url);
		this.req.onload = function() {
			var body = _gthis.getBody(_gthis.req.response);
			if(body == "") {
				body = _gthis.req.response;
			}
			_gthis.processHTML(body,el);
		};
		this.req.onerror = function(error) {
			window.console.error("[JS] error: " + error);
		};
		this.req.send();
	}
	,getBody: function(html) {
		var test = html.toLowerCase();
		var x = test.indexOf("<body");
		if(x == -1) {
			return "";
		}
		x = test.indexOf(">",x);
		if(x == -1) {
			return "";
		}
		var y = test.lastIndexOf("</body>");
		if(y == -1) {
			y = test.lastIndexOf("</html>");
		}
		if(y == -1) {
			y = html.length;
		}
		return html.slice(x + 1,y);
	}
	,processHTML: function(content,target) {
		target.innerHTML = content;
	}
	,openNav: function() {
		window.document.getElementById("mySidenav").style.width = "50%";
		window.document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
	}
	,closeNav: function() {
		window.document.getElementById("mySidenav").style.width = "0";
		window.document.body.style.backgroundColor = "white";
	}
};
var $_;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $global.$haxeUID++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = m.bind(o); o.hx__closures__[m.__id__] = f; } return f; }
$global.$haxeUID |= 0;
App.NAME = "[js-mini-projects]";
Main.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
